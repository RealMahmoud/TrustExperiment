<!doctype html>
<html lang="en">

<head>
  <meta charSet="UTF-8" />
  <title id="title">Idena Codes</Title>
  <meta http-equiv="X-UA-Compatible" content="chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no" />
  <meta name="description"
    content="Idena.Codes helps verify new users, give out invitation codes to new users and add a layer of trust to network security " />
  <link rel="shortcut icon" href="./favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="./images/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="./images/favicon-16x16.png" />
  <link rel="icon" type="image/png" sizes="192x192" href="./images/android-chrome-192x192.png" />
  <link rel="icon" type="image/png" sizes="256x256" href=".images/android-chrome-256x256.png" />
  <meta name="msapplication-TileColor" content="#2456ec" />
  <meta name="theme-color" content="#ffffff" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image" content="./images/og_image.jpg" />
  <meta property="og:title" content="" />
  <meta name="description" content="" />
  <meta property="og:description" content="" />
  <link rel="stylesheet" href="./css/all.min.css" />
  <link href="./css/index.css" rel="stylesheet" />
  <link href="./css/styles.css" rel="stylesheet" />
  <link href="./css/dark-mode.css" rel="stylesheet" />

</head>

<body>
  <header class="headerBG header header-shadow ">
    <div class="container headerBG">
      <div class="row justify-content-between headerBG">

        <div class="col-auto header_logo ">
          <a href="#Home">
            <img src="./images/logo_black.png" class="position-absolute  rounded-circle"
              style="box-shadow: 0 2px 15px rgb(0, 0, 0); width: 90px; height: 90px; background: rgba(49, 83, 251, 0.3);"
              alt="Idena">
          </a>
        </div>


        <div class="col-auto">
          <nav>
            <li class="nav-item header_nav__item">
              <a class="nav-link header_nav__link appslink" href="#Home" title="Home" descriptioncontent="
          Home">
                Home
              </a>
            </li>
            <li class="nav-item header_nav__item">
              <a class="nav-link header_nav__link appslink" href="#Checker" title="Checker"
                descriptioncontent="Checker">
                Checker
              </a>
            </li>

            <li class="nav-item header_nav__item">
              <a class="nav-link header_nav__link appslink" href="#FlipChallenge" title="Validation"
                descriptioncontent="Validation">
                Flip Challenge
              </a>
            </li>
            <!--
           <li class="nav-item header_nav__item">
            <a class="nav-link header_nav__link appslink" href="#List" title="LIST" descriptioncontent="LIST">
              LIST
            </a>
          </li>
          -->

            <li class="nav-item header_nav__item">
              <a class="nav-link header_nav__link appslink" href="#Faq" title="FAQ" descriptioncontent="FAQ">
                FAQ
              </a>
            </li>
          </nav>
          <nav>
            <select style="display: none;"
              onchange="this.options[this.selectedIndex].value &amp;&amp; (window.location = this.options[this.selectedIndex].value);">
              <option value="" selected="selected">Navigate</option>
              <option value="#Home">Home</option>
              <option value="#Checker">Checker</option>
              <option value="#FlipChallenge">FlipChallenge</option>
              <option value="#Faq">FAQ</option>
            </select>
          </nav>
        </div>


        <div class="col-auto" id="SIGN-IN-CONTAINER">


        </div>

      </div>
    </div>
  </header>


  <main class="main mb-5">
    <div class="container" id="content">

    </div>
    </div>
  </main>


  <!-- footer code begins here --->

  <script src="./js/jquery-3.1.1.min.js"></script>
  <script src="./js/popper.min.js"></script>
  <script src="./js/bootstrap.min.js"></script>
  <script src="./js/preload.js"></script>
  <script src="./js/ajax-utils.js"></script>
  <script src="./js/global.js"></script>
  <script src="./js/nav.js"></script>
  <script src="./js/b.js"></script>
  <script src="./js/moment.min.js"></script>
  <div class="row justify-content-center text-center mt-auto m-0 p-0 w-100">
    <div class="col-md-8 col-lg-7">

      <div class="justify-content-center text-center">

        <div class="copy " id="donation">
          <p class="desc pb-1" style="line-height: 2em;">
            Idena.Codes created by <a href="https://github.com/RealMahmoud/" target="_blank">@RealMahmoud</a> and <a
              href="https://github.com/1PaleBlueDot" target="_blank">@PaleBlueDot</a>
            Support by donating to
            <a href="https://scan.idena.io/address/0xB351B4C930eD91E7fC42e6347bC9B19663f18490" target="_blank">
              <span class="donate">0xB351B4C930eD91E7fC42e6347bC9B19663f18490</span>
            </a>
          </p>
        </div>
      </div>
      <div class="justify-content-center text-center">
        <div class="col-md-7 col-lg-6 m-auto">
          <div class="social_list  m-0 mb-2">
            <a href="https://discord.gg/8BusRj7" target="_blank" class="social_list__item"><i
                class="fab fa-discord"></i></a>
            <a href="https://t.me/Idenacodes" rel="nofollow" target="_blank" class="social_list__item"><i
                class="fab fa-telegram"></i></a>
            <a href="https://github.com/RealMahmoud/idenaCodes" rel="nofollow" target="_blank"
              class="social_list__item"><i class="fab fa-github"></i></a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    function makeLogged(address) {
      document.getElementById("SIGN-IN-CONTAINER").innerHTML = '<div class="btn-group">' +
        '<a href="" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">' +
        '<div class="user-pic" style="margin-right: 0px;">' +
        '<img id="headerPic" class="user-avatar" src="https://robohash.org/' + address +
        '" alt="pic" width="40"></div></a>' +
        '<div class="dropdown-menu" aria-hidden="true" role="menu"><li>' +
        '<a class="btn btn-small" onclick="logout();"><span>Log out</span></a>' +
        '</li>' +
        '</div>' +
        '</div>';
    }

    function makeNotLogged() {
      document.getElementById("SIGN-IN-CONTAINER").innerHTML = '<a class="btn btn-signin" onclick="openIdena();">' +
        '<img alt="signin" class="icon icon-logo-white-small"' +
        ' src="https://scan.idena.io/static/images/idena_white_small.svg" width="24px">' +
        ' <span style="color: #fff;">Sign-in</span>' +
        '  </a>';
    }

    function checkLoggedStatus() {
      ajax_get('./services/checkLogin.php', function (data) {
        if (data['Logged'] == true) {
          makeLogged(data['Address']);
        } else {
          makeNotLogged();
        }
      });
    }

    function openIdena() {
      ajax_get('./services/getToken.php', function (data) {
        var urlofwebsite = window.location.origin + window.location.pathname;
        var url = 'dna://signin/v1?nonce_endpoint=' + urlofwebsite + 'services/start-session.php&token=' + data[
            'Token'] +
          '&callback_url=' +
          urlofwebsite +
          '&authentication_endpoint=' +
          urlofwebsite +
          'services/auth.php';
        window.open(encodeURI(url), '_self');
        console.log(encodeURI(url));
      });
    }

    function logout() {
      ajax_get('./services/logout.php', function (data) {
        makeNotLogged();
      });

    }
    window.addEventListener("load", function () {
      checkLoggedStatus();
    });
  </script>
</body>

</html>